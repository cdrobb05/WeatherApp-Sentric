"use strict";

var _Object$defineProperty = require("@babel/runtime-corejs2/core-js/object/define-property");

_Object$defineProperty(exports, "__esModule", {
  value: true
});

exports["default"] = addCSS;

var _domUtilities = require("./domUtilities");

// (C) 2007-2020 GoodData Corporation
// usage
// addCSS('header-styles', 'html {border: 3px dotted black; padding: 20px}');
// addCSS('second-stylesheet', 'body {margin: 20px; background: yellow;}');
function addCSS(sheetId, rules, clear) {
  var stylesNode = document.createTextNode(rules);
  var exStyleSheet = document.getElementById(sheetId); // clear stylesheet

  if (clear && exStyleSheet) {
    (0, _domUtilities.removeFromDom)(exStyleSheet);
    exStyleSheet = null;
  } // stylesheet already exist - we just append the rules


  if (exStyleSheet) {
    exStyleSheet.appendChild(stylesNode);
    return exStyleSheet;
  } // create new stylesheet and append the rules


  var styleElement = document.createElement("style");
  styleElement.id = sheetId;
  styleElement.type = "text/css";
  styleElement.appendChild(stylesNode); // append the styleSheet into DOM

  document.getElementsByTagName("head")[0].appendChild(styleElement);
  return styleElement;
}