"use strict";

var _interopRequireDefault = require("@babel/runtime-corejs2/helpers/interopRequireDefault");

var _Object$defineProperty = require("@babel/runtime-corejs2/core-js/object/define-property");

_Object$defineProperty(exports, "__esModule", {
  value: true
});

exports.formatTime = formatTime;
exports.updateTime = updateTime;
exports.normalizeTime = normalizeTime;
exports.TIME_ANCHOR = exports.HOURS_IN_DAY = void 0;

var _moment = _interopRequireDefault(require("moment"));

// (C) 2019-2020 GoodData Corporation
var HOURS_IN_DAY = 24;
exports.HOURS_IN_DAY = HOURS_IN_DAY;
var TIME_ANCHOR = 30;
exports.TIME_ANCHOR = TIME_ANCHOR;
var TIME_FORMAT = "hh:mm A";

function formatTime(h, m, format) {
  return (0, _moment["default"])().hours(h).minutes(m).format(format || TIME_FORMAT);
}

function updateTime(h, m) {
  var selectedTime = new Date();
  selectedTime.setHours(h);
  selectedTime.setMinutes(m);
  selectedTime.setSeconds(0);
  selectedTime.setMilliseconds(0);
  return selectedTime;
} // return 7:30 if time is 7:25
// return 8:00 if time is 7:35
// return 0:00 if time is 23:45


function normalizeTime(time) {
  var h;
  var m;
  var hours = time.getHours();

  if (time.getMinutes() < TIME_ANCHOR) {
    h = hours;
    m = TIME_ANCHOR;
  } else {
    h = (hours + 1) % HOURS_IN_DAY;
    m = 0;
  }

  return updateTime(h, m);
}