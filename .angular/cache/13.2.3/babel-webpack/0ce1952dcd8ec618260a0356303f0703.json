{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\cdrob\\\\weather-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../zip-code-service.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\n\nfunction ZipCodeInputComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1, \" Must be a valid US Zip Code \");\n    i0.ɵɵelementEnd();\n  }\n} //import React,{useState} from 'react'\n\n\nexport class ZipCodeInputComponent {\n  constructor(zipCodeData) {\n    //let headers = new HttpHeaders()\n    //headers.append('Access-Control-Allow-Credentials', 'true')\n    //let url = \"https://www.zipcodeapi.com/rest/ncb7p0ZTmZk58BayTEW2kwk1KUfmtLhJTC44bsCqwLcJV8lxaTG0IUZshjdT1vqL/info.json/80111/degrees\"\n    this.zipCodeData = zipCodeData;\n    this.zipCodeDisplay = 0;\n    this.zipResult = \"default\";\n    this.weatherResult = \"default\"; //this.zipCodeData.getData(url).subscribe(data=>{\n    //  console.log(data)\n    //})\n  } //const [userData,setUserData] = useState<zipCodeInterface>([])\n  //.then().map(u => u.).toString()\n  //fetch(\"https://www.zipcodeapi.com/rest/<api_key>/info.<format>/<zip_code>/<units>\")\n\n\n  submitZipCode(zipCodeIn) {\n    //console.log(this.weatherResult)\n    //let headers = new Headers()\n    //headers.append('Access-Control-Allow-Origin', 'http://localhost:4200');\n    //headers.append('Access-Control-Allow-Credentials', 'true');\n    //headers.append('Access-Control-Allow-Credentials', 'true')\n    let url = \"https://www.zipcodeapi.com/rest/ncb7p0ZTmZk58BayTEW2kwk1KUfmtLhJTC44bsCqwLcJV8lxaTG0IUZshjdT1vqL/info.json/80111/degrees\";\n    this.zipCodeDisplay = +zipCodeIn;\n    let zipPromise = fetch(url, {\n      mode: 'no-cors'\n    }) //,headers:headers})\n    .then(res => res.text()).then(res => {\n      return res;\n    }); //zipPromise.then((value: any) => {\n    //  this.weatherResult = value\n    //})\n    //this.weatherResult = zipPromise.json()\n    //this.weatherResult = this.weatherResult.url\n\n    console.log(\"zipResult: \" + this.zipResult + \" zipPromise: \" + zipPromise);\n    let urlWeather = \"https://api.weather.gov/points/39.7456,-97.0892\";\n    let weatherPromise = fetch(urlWeather, {\n      mode: 'no-cors'\n    }).then(res => res.text()).then(res => {\n      this.weatherResult = res;\n    });\n    console.log(\"weatherPromise: \", weatherPromise, \"weatherResult:\", this.weatherResult);\n  } //getData(url:string):Promise<zipCodeInterface>{\n  //  return fetch(url)\n  //  .then(res => res.json())\n  //  .then(res => {return res as String})\n  //}\n\n\n  submitWeather() {\n    return _asyncToGenerator(function* () {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n\n      const requestOne = yield fetch(`https://api.weather.gov/points/39.7456,-97.0892,`);\n      const point = yield requestOne.json(); //console.log(\"Point:\",point)\n      // The second request is to get the actual forecast.\n\n      const requestTwo = yield fetch(point.properties.forecast);\n      const forecast = yield requestTwo.json(); // Third request is to get the alerts.\n\n      const requestThree = yield fetch(`https://api.weather.gov/alerts/active?status=actual&message_type=alert&point=${lat},${lng}`);\n      const alerts = yield requestThree.json(); // Four request is to get the local weather office.\n\n      const requestFour = yield fetch(point.properties.forecastOffice);\n      const station = yield requestFour.json(); // Send the response.\n\n      res.status(200).json({\n        alerts: alerts === null || alerts === void 0 ? void 0 : alerts.features,\n        coordinates: {\n          lat,\n          lng\n        },\n        forecast: (_a = forecast === null || forecast === void 0 ? void 0 : forecast.properties) === null || _a === void 0 ? void 0 : _a.periods,\n        location: {\n          city: (_d = (_c = (_b = point === null || point === void 0 ? void 0 : point.properties) === null || _b === void 0 ? void 0 : _b.relativeLocation) === null || _c === void 0 ? void 0 : _c.properties) === null || _d === void 0 ? void 0 : _d.city,\n          state: (_g = (_f = (_e = point === null || point === void 0 ? void 0 : point.properties) === null || _e === void 0 ? void 0 : _e.relativeLocation) === null || _f === void 0 ? void 0 : _f.properties) === null || _g === void 0 ? void 0 : _g.state\n        },\n        radar: (_h = point === null || point === void 0 ? void 0 : point.properties) === null || _h === void 0 ? void 0 : _h.radarStation,\n        station: station === null || station === void 0 ? void 0 : station.name,\n        updated: (_j = forecast === null || forecast === void 0 ? void 0 : forecast.properties) === null || _j === void 0 ? void 0 : _j.updated\n      });\n      console.log(forecast);\n    })();\n  }\n\n}\n\nZipCodeInputComponent.ɵfac = function ZipCodeInputComponent_Factory(t) {\n  return new (t || ZipCodeInputComponent)(i0.ɵɵdirectiveInject(i1.ZipCodeServiceService));\n};\n\nZipCodeInputComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ZipCodeInputComponent,\n  selectors: [[\"zip-code-input\"]],\n  decls: 18,\n  vars: 3,\n  consts: [[1, \"form-group\"], [\"for\", \"zipCode\"], [\"required\", \"\", \"minlength\", \"5\", \"maxlength\", \"5\", \"ngModel\", \"\", \"name\", \"zipCode\", \"id\", \"zipCode\", \"type\", \"text\", 1, \"form-control\"], [\"zipCode\", \"ngModel\", \"zipCodeIn\", \"\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"center-button\"], [\"name\", \"submitButton\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"name\", \"sumbitButton\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"alert\", \"alert-danger\"]],\n  template: function ZipCodeInputComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r3 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"form\");\n      i0.ɵɵelementStart(1, \"div\", 0);\n      i0.ɵɵelementStart(2, \"label\", 1);\n      i0.ɵɵtext(3, \"Enter A Zip Code\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"input\", 2, 3);\n      i0.ɵɵtemplate(7, ZipCodeInputComponent_div_7_Template, 2, 0, \"div\", 4);\n      i0.ɵɵelement(8, \"br\");\n      i0.ɵɵelementStart(9, \"div\", 5);\n      i0.ɵɵelementStart(10, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function ZipCodeInputComponent_Template_button_click_10_listener() {\n        i0.ɵɵrestoreView(_r3);\n\n        const _r1 = i0.ɵɵreference(6);\n\n        return ctx.submitZipCode(_r1.value);\n      });\n      i0.ɵɵtext(11, \"Submit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function ZipCodeInputComponent_Template_button_click_12_listener() {\n        return ctx.submitWeather();\n      });\n      i0.ɵɵtext(13, \"Submit Weather\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"p\");\n      i0.ɵɵtext(15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"p\");\n      i0.ɵɵtext(17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(5);\n\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", _r0.touched && !_r0.valid);\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate1(\"You entered: \", ctx.zipCodeDisplay, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.zipResult);\n    }\n  },\n  directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm, i2.DefaultValueAccessor, i2.RequiredValidator, i2.MinLengthValidator, i2.MaxLengthValidator, i2.NgControlStatus, i2.NgModel, i3.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ6aXAtY29kZS1pbnB1dC5jb21wb25lbnQuY3NzIn0= */\", \"label[_ngcontent-%COMP%]{\\n        display: block;\\n        text-align: center;\\n    }\\n    .center-button[_ngcontent-%COMP%]{\\n        margin-left: 50px;\\n        margin-top: 10px;\\n    }\\n    .alert[_ngcontent-%COMP%]{\\n        color: red;\\n    }\"]\n});","map":{"version":3,"sources":["C:/Users/cdrob/weather-app/src/app/zip-code-input/zip-code-input.component.ts"],"names":["i0","i1","i2","i3","ZipCodeInputComponent_div_7_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ZipCodeInputComponent","constructor","zipCodeData","zipCodeDisplay","zipResult","weatherResult","submitZipCode","zipCodeIn","url","zipPromise","fetch","mode","then","res","text","console","log","urlWeather","weatherPromise","submitWeather","_a","_b","_c","_d","_e","_f","_g","_h","_j","requestOne","point","json","requestTwo","properties","forecast","requestThree","lat","lng","alerts","requestFour","forecastOffice","station","status","features","coordinates","periods","location","city","relativeLocation","state","radar","radarStation","name","updated","ɵfac","ZipCodeInputComponent_Factory","t","ɵɵdirectiveInject","ZipCodeServiceService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ZipCodeInputComponent_Template","_r3","ɵɵgetCurrentView","ɵɵelement","ɵɵtemplate","ɵɵlistener","ZipCodeInputComponent_Template_button_click_10_listener","ɵɵrestoreView","_r1","ɵɵreference","value","ZipCodeInputComponent_Template_button_click_12_listener","_r0","ɵɵadvance","ɵɵproperty","touched","valid","ɵɵtextInterpolate1","ɵɵtextInterpolate","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","DefaultValueAccessor","RequiredValidator","MinLengthValidator","MaxLengthValidator","NgControlStatus","NgModel","NgIf","styles"],"mappings":";AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,6BAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,gBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;;AACA,SAASC,oCAAT,CAA8CC,EAA9C,EAAkDC,GAAlD,EAAuD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACjEL,IAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAP,IAAAA,EAAE,CAACQ,MAAH,CAAU,CAAV,EAAa,+BAAb;AACAR,IAAAA,EAAE,CAACS,YAAH;AACH;AAAE,C,CACH;;;AACA,OAAO,MAAMC,qBAAN,CAA4B;AAC/BC,EAAAA,WAAW,CAACC,WAAD,EAAc;AACrB;AACA;AACA;AACA,SAAKA,WAAL,GAAmBA,WAAnB;AACA,SAAKC,cAAL,GAAsB,CAAtB;AACA,SAAKC,SAAL,GAAiB,SAAjB;AACA,SAAKC,aAAL,GAAqB,SAArB,CAPqB,CAQrB;AACA;AACA;AACH,GAZ8B,CAa/B;AACA;AACA;;;AACAC,EAAAA,aAAa,CAACC,SAAD,EAAY;AACrB;AACA;AACA;AACA;AACA;AACA,QAAIC,GAAG,GAAG,0HAAV;AACA,SAAKL,cAAL,GAAsB,CAACI,SAAvB;AACA,QAAIE,UAAU,GAAGC,KAAK,CAACF,GAAD,EAAM;AAAEG,MAAAA,IAAI,EAAE;AAAR,KAAN,CAAL,CAAgC;AAAhC,KACZC,IADY,CACPC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADA,EAEZF,IAFY,CAEPC,GAAG,IAAI;AACb,aAAOA,GAAP;AACH,KAJgB,CAAjB,CARqB,CAarB;AACA;AACA;AACA;AACA;;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgB,KAAKZ,SAArB,GAAiC,eAAjC,GAAmDK,UAA/D;AACA,QAAIQ,UAAU,GAAG,iDAAjB;AACA,QAAIC,cAAc,GAAGR,KAAK,CAACO,UAAD,EAAa;AAAEN,MAAAA,IAAI,EAAE;AAAR,KAAb,CAAL,CAChBC,IADgB,CACXC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADI,EAEhBF,IAFgB,CAEXC,GAAG,IAAI;AACb,WAAKR,aAAL,GAAqBQ,GAArB;AACH,KAJoB,CAArB;AAKAE,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCE,cAAhC,EAAgD,gBAAhD,EAAkE,KAAKb,aAAvE;AACH,GA1C8B,CA2C/B;AACA;AACA;AACA;AACA;;;AACMc,EAAAA,aAAa,GAAG;AAAA;AAClB,UAAIC,EAAJ,EAAQC,EAAR,EAAYC,EAAZ,EAAgBC,EAAhB,EAAoBC,EAApB,EAAwBC,EAAxB,EAA4BC,EAA5B,EAAgCC,EAAhC,EAAoCC,EAApC;;AACA,YAAMC,UAAU,SAASnB,KAAK,CAAE,kDAAF,CAA9B;AACA,YAAMoB,KAAK,SAASD,UAAU,CAACE,IAAX,EAApB,CAHkB,CAIlB;AACA;;AACA,YAAMC,UAAU,SAAStB,KAAK,CAACoB,KAAK,CAACG,UAAN,CAAiBC,QAAlB,CAA9B;AACA,YAAMA,QAAQ,SAASF,UAAU,CAACD,IAAX,EAAvB,CAPkB,CAQlB;;AACA,YAAMI,YAAY,SAASzB,KAAK,CAAE,gFAA+E0B,GAAI,IAAGC,GAAI,EAA5F,CAAhC;AACA,YAAMC,MAAM,SAASH,YAAY,CAACJ,IAAb,EAArB,CAVkB,CAWlB;;AACA,YAAMQ,WAAW,SAAS7B,KAAK,CAACoB,KAAK,CAACG,UAAN,CAAiBO,cAAlB,CAA/B;AACA,YAAMC,OAAO,SAASF,WAAW,CAACR,IAAZ,EAAtB,CAbkB,CAclB;;AACAlB,MAAAA,GAAG,CAAC6B,MAAJ,CAAW,GAAX,EAAgBX,IAAhB,CAAqB;AACjBO,QAAAA,MAAM,EAAEA,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACK,QAD9C;AAEjBC,QAAAA,WAAW,EAAE;AAAER,UAAAA,GAAF;AAAOC,UAAAA;AAAP,SAFI;AAGjBH,QAAAA,QAAQ,EAAE,CAACd,EAAE,GAAGc,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2C,KAAK,CAAhD,GAAoDA,QAAQ,CAACD,UAAnE,MAAmF,IAAnF,IAA2Fb,EAAE,KAAK,KAAK,CAAvG,GAA2G,KAAK,CAAhH,GAAoHA,EAAE,CAACyB,OAHhH;AAIjBC,QAAAA,QAAQ,EAAE;AACNC,UAAAA,IAAI,EAAE,CAACxB,EAAE,GAAG,CAACD,EAAE,GAAG,CAACD,EAAE,GAAGS,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACG,UAA1D,MAA0E,IAA1E,IAAkFZ,EAAE,KAAK,KAAK,CAA9F,GAAkG,KAAK,CAAvG,GAA2GA,EAAE,CAAC2B,gBAApH,MAA0I,IAA1I,IAAkJ1B,EAAE,KAAK,KAAK,CAA9J,GAAkK,KAAK,CAAvK,GAA2KA,EAAE,CAACW,UAApL,MAAoM,IAApM,IAA4MV,EAAE,KAAK,KAAK,CAAxN,GAA4N,KAAK,CAAjO,GAAqOA,EAAE,CAACwB,IADxO;AAENE,UAAAA,KAAK,EAAE,CAACvB,EAAE,GAAG,CAACD,EAAE,GAAG,CAACD,EAAE,GAAGM,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACG,UAA1D,MAA0E,IAA1E,IAAkFT,EAAE,KAAK,KAAK,CAA9F,GAAkG,KAAK,CAAvG,GAA2GA,EAAE,CAACwB,gBAApH,MAA0I,IAA1I,IAAkJvB,EAAE,KAAK,KAAK,CAA9J,GAAkK,KAAK,CAAvK,GAA2KA,EAAE,CAACQ,UAApL,MAAoM,IAApM,IAA4MP,EAAE,KAAK,KAAK,CAAxN,GAA4N,KAAK,CAAjO,GAAqOA,EAAE,CAACuB;AAFzO,SAJO;AAQjBC,QAAAA,KAAK,EAAE,CAACvB,EAAE,GAAGG,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACG,UAA1D,MAA0E,IAA1E,IAAkFN,EAAE,KAAK,KAAK,CAA9F,GAAkG,KAAK,CAAvG,GAA2GA,EAAE,CAACwB,YARpG;AASjBV,QAAAA,OAAO,EAAEA,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACW,IATlD;AAUjBC,QAAAA,OAAO,EAAE,CAACzB,EAAE,GAAGM,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2C,KAAK,CAAhD,GAAoDA,QAAQ,CAACD,UAAnE,MAAmF,IAAnF,IAA2FL,EAAE,KAAK,KAAK,CAAvG,GAA2G,KAAK,CAAhH,GAAoHA,EAAE,CAACyB;AAV/G,OAArB;AAYAtC,MAAAA,OAAO,CAACC,GAAR,CAAYkB,QAAZ;AA3BkB;AA4BrB;;AA5E8B;;AA8EnClC,qBAAqB,CAACsD,IAAtB,GAA6B,SAASC,6BAAT,CAAuCC,CAAvC,EAA0C;AAAE,SAAO,KAAKA,CAAC,IAAIxD,qBAAV,EAAiCV,EAAE,CAACmE,iBAAH,CAAqBlE,EAAE,CAACmE,qBAAxB,CAAjC,CAAP;AAA0F,CAAnK;;AACA1D,qBAAqB,CAAC2D,IAAtB,GAA6B,aAAcrE,EAAE,CAACsE,iBAAH,CAAqB;AAAEC,EAAAA,IAAI,EAAE7D,qBAAR;AAA+B8D,EAAAA,SAAS,EAAE,CAAC,CAAC,gBAAD,CAAD,CAA1C;AAAgEC,EAAAA,KAAK,EAAE,EAAvE;AAA2EC,EAAAA,IAAI,EAAE,CAAjF;AAAoFC,EAAAA,MAAM,EAAE,CAAC,CAAC,CAAD,EAAI,YAAJ,CAAD,EAAoB,CAAC,KAAD,EAAQ,SAAR,CAApB,EAAwC,CAAC,UAAD,EAAa,EAAb,EAAiB,WAAjB,EAA8B,GAA9B,EAAmC,WAAnC,EAAgD,GAAhD,EAAqD,SAArD,EAAgE,EAAhE,EAAoE,MAApE,EAA4E,SAA5E,EAAuF,IAAvF,EAA6F,SAA7F,EAAwG,MAAxG,EAAgH,MAAhH,EAAwH,CAAxH,EAA2H,cAA3H,CAAxC,EAAoL,CAAC,SAAD,EAAY,SAAZ,EAAuB,WAAvB,EAAoC,EAApC,CAApL,EAA6N,CAAC,OAAD,EAAU,oBAAV,EAAgC,CAAhC,EAAmC,MAAnC,CAA7N,EAAyQ,CAAC,CAAD,EAAI,eAAJ,CAAzQ,EAA+R,CAAC,MAAD,EAAS,cAAT,EAAyB,CAAzB,EAA4B,KAA5B,EAAmC,aAAnC,EAAkD,CAAlD,EAAqD,OAArD,CAA/R,EAA8V,CAAC,MAAD,EAAS,cAAT,EAAyB,CAAzB,EAA4B,KAA5B,EAAmC,aAAnC,EAAkD,CAAlD,EAAqD,OAArD,CAA9V,EAA6Z,CAAC,CAAD,EAAI,OAAJ,EAAa,cAAb,CAA7Z,CAA5F;AAAwhBC,EAAAA,QAAQ,EAAE,SAASC,8BAAT,CAAwCxE,EAAxC,EAA4CC,GAA5C,EAAiD;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AACzpB,YAAMyE,GAAG,GAAG9E,EAAE,CAAC+E,gBAAH,EAAZ;;AACA/E,MAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,MAArB;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,OAArB,EAA8B,CAA9B;AACAP,MAAAA,EAAE,CAACQ,MAAH,CAAU,CAAV,EAAa,kBAAb;AACAR,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACgF,SAAH,CAAa,CAAb,EAAgB,OAAhB,EAAyB,CAAzB,EAA4B,CAA5B;AACAhF,MAAAA,EAAE,CAACiF,UAAH,CAAc,CAAd,EAAiB7E,oCAAjB,EAAuD,CAAvD,EAA0D,CAA1D,EAA6D,KAA7D,EAAoE,CAApE;AACAJ,MAAAA,EAAE,CAACgF,SAAH,CAAa,CAAb,EAAgB,IAAhB;AACAhF,MAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,CAAhC;AACAP,MAAAA,EAAE,CAACkF,UAAH,CAAc,OAAd,EAAuB,SAASC,uDAAT,GAAmE;AAAEnF,QAAAA,EAAE,CAACoF,aAAH,CAAiBN,GAAjB;;AAAuB,cAAMO,GAAG,GAAGrF,EAAE,CAACsF,WAAH,CAAe,CAAf,CAAZ;;AAA+B,eAAOhF,GAAG,CAACU,aAAJ,CAAkBqE,GAAG,CAACE,KAAtB,CAAP;AAAsC,OAAxL;AACAvF,MAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV,EAAc,QAAd;AACAR,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,CAAhC;AACAP,MAAAA,EAAE,CAACkF,UAAH,CAAc,OAAd,EAAuB,SAASM,uDAAT,GAAmE;AAAE,eAAOlF,GAAG,CAACuB,aAAJ,EAAP;AAA6B,OAAzH;AACA7B,MAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV,EAAc,gBAAd;AACAR,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,GAAtB;AACAP,MAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV;AACAR,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,GAAtB;AACAP,MAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV;AACAR,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACH;;AAAC,QAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,YAAMoF,GAAG,GAAGzF,EAAE,CAACsF,WAAH,CAAe,CAAf,CAAZ;;AACAtF,MAAAA,EAAE,CAAC0F,SAAH,CAAa,CAAb;AACA1F,MAAAA,EAAE,CAAC2F,UAAH,CAAc,MAAd,EAAsBF,GAAG,CAACG,OAAJ,IAAe,CAACH,GAAG,CAACI,KAA1C;AACA7F,MAAAA,EAAE,CAAC0F,SAAH,CAAa,CAAb;AACA1F,MAAAA,EAAE,CAAC8F,kBAAH,CAAsB,eAAtB,EAAuCxF,GAAG,CAACO,cAA3C,EAA2D,EAA3D;AACAb,MAAAA,EAAE,CAAC0F,SAAH,CAAa,CAAb;AACA1F,MAAAA,EAAE,CAAC+F,iBAAH,CAAqBzF,GAAG,CAACQ,SAAzB;AACH;AAAE,GApCyD;AAoCvDkF,EAAAA,UAAU,EAAE,CAAC9F,EAAE,CAAC+F,aAAJ,EAAmB/F,EAAE,CAACgG,oBAAtB,EAA4ChG,EAAE,CAACiG,MAA/C,EAAuDjG,EAAE,CAACkG,oBAA1D,EAAgFlG,EAAE,CAACmG,iBAAnF,EAAsGnG,EAAE,CAACoG,kBAAzG,EAA6HpG,EAAE,CAACqG,kBAAhI,EAAoJrG,EAAE,CAACsG,eAAvJ,EAAwKtG,EAAE,CAACuG,OAA3K,EAAoLtG,EAAE,CAACuG,IAAvL,CApC2C;AAoCmJC,EAAAA,MAAM,EAAE,CAAC,iLAAD,EAAoL,0PAApL;AApC3J,CAArB,CAA3C","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../zip-code-service.service\";\r\nimport * as i2 from \"@angular/forms\";\r\nimport * as i3 from \"@angular/common\";\r\nfunction ZipCodeInputComponent_div_7_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 8);\r\n    i0.ɵɵtext(1, \" Must be a valid US Zip Code \");\r\n    i0.ɵɵelementEnd();\r\n} }\r\n//import React,{useState} from 'react'\r\nexport class ZipCodeInputComponent {\r\n    constructor(zipCodeData) {\r\n        //let headers = new HttpHeaders()\r\n        //headers.append('Access-Control-Allow-Credentials', 'true')\r\n        //let url = \"https://www.zipcodeapi.com/rest/ncb7p0ZTmZk58BayTEW2kwk1KUfmtLhJTC44bsCqwLcJV8lxaTG0IUZshjdT1vqL/info.json/80111/degrees\"\r\n        this.zipCodeData = zipCodeData;\r\n        this.zipCodeDisplay = 0;\r\n        this.zipResult = \"default\";\r\n        this.weatherResult = \"default\";\r\n        //this.zipCodeData.getData(url).subscribe(data=>{\r\n        //  console.log(data)\r\n        //})\r\n    }\r\n    //const [userData,setUserData] = useState<zipCodeInterface>([])\r\n    //.then().map(u => u.).toString()\r\n    //fetch(\"https://www.zipcodeapi.com/rest/<api_key>/info.<format>/<zip_code>/<units>\")\r\n    submitZipCode(zipCodeIn) {\r\n        //console.log(this.weatherResult)\r\n        //let headers = new Headers()\r\n        //headers.append('Access-Control-Allow-Origin', 'http://localhost:4200');\r\n        //headers.append('Access-Control-Allow-Credentials', 'true');\r\n        //headers.append('Access-Control-Allow-Credentials', 'true')\r\n        let url = \"https://www.zipcodeapi.com/rest/ncb7p0ZTmZk58BayTEW2kwk1KUfmtLhJTC44bsCqwLcJV8lxaTG0IUZshjdT1vqL/info.json/80111/degrees\";\r\n        this.zipCodeDisplay = +zipCodeIn;\r\n        let zipPromise = fetch(url, { mode: 'no-cors' }) //,headers:headers})\r\n            .then(res => res.text())\r\n            .then(res => {\r\n            return res;\r\n        });\r\n        //zipPromise.then((value: any) => {\r\n        //  this.weatherResult = value\r\n        //})\r\n        //this.weatherResult = zipPromise.json()\r\n        //this.weatherResult = this.weatherResult.url\r\n        console.log(\"zipResult: \" + this.zipResult + \" zipPromise: \" + zipPromise);\r\n        let urlWeather = \"https://api.weather.gov/points/39.7456,-97.0892\";\r\n        let weatherPromise = fetch(urlWeather, { mode: 'no-cors' })\r\n            .then(res => res.text())\r\n            .then(res => {\r\n            this.weatherResult = res;\r\n        });\r\n        console.log(\"weatherPromise: \", weatherPromise, \"weatherResult:\", this.weatherResult);\r\n    }\r\n    //getData(url:string):Promise<zipCodeInterface>{\r\n    //  return fetch(url)\r\n    //  .then(res => res.json())\r\n    //  .then(res => {return res as String})\r\n    //}\r\n    async submitWeather() {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n        const requestOne = await fetch(`https://api.weather.gov/points/39.7456,-97.0892,`);\r\n        const point = await requestOne.json();\r\n        //console.log(\"Point:\",point)\r\n        // The second request is to get the actual forecast.\r\n        const requestTwo = await fetch(point.properties.forecast);\r\n        const forecast = await requestTwo.json();\r\n        // Third request is to get the alerts.\r\n        const requestThree = await fetch(`https://api.weather.gov/alerts/active?status=actual&message_type=alert&point=${lat},${lng}`);\r\n        const alerts = await requestThree.json();\r\n        // Four request is to get the local weather office.\r\n        const requestFour = await fetch(point.properties.forecastOffice);\r\n        const station = await requestFour.json();\r\n        // Send the response.\r\n        res.status(200).json({\r\n            alerts: alerts === null || alerts === void 0 ? void 0 : alerts.features,\r\n            coordinates: { lat, lng },\r\n            forecast: (_a = forecast === null || forecast === void 0 ? void 0 : forecast.properties) === null || _a === void 0 ? void 0 : _a.periods,\r\n            location: {\r\n                city: (_d = (_c = (_b = point === null || point === void 0 ? void 0 : point.properties) === null || _b === void 0 ? void 0 : _b.relativeLocation) === null || _c === void 0 ? void 0 : _c.properties) === null || _d === void 0 ? void 0 : _d.city,\r\n                state: (_g = (_f = (_e = point === null || point === void 0 ? void 0 : point.properties) === null || _e === void 0 ? void 0 : _e.relativeLocation) === null || _f === void 0 ? void 0 : _f.properties) === null || _g === void 0 ? void 0 : _g.state\r\n            },\r\n            radar: (_h = point === null || point === void 0 ? void 0 : point.properties) === null || _h === void 0 ? void 0 : _h.radarStation,\r\n            station: station === null || station === void 0 ? void 0 : station.name,\r\n            updated: (_j = forecast === null || forecast === void 0 ? void 0 : forecast.properties) === null || _j === void 0 ? void 0 : _j.updated\r\n        });\r\n        console.log(forecast);\r\n    }\r\n}\r\nZipCodeInputComponent.ɵfac = function ZipCodeInputComponent_Factory(t) { return new (t || ZipCodeInputComponent)(i0.ɵɵdirectiveInject(i1.ZipCodeServiceService)); };\r\nZipCodeInputComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ZipCodeInputComponent, selectors: [[\"zip-code-input\"]], decls: 18, vars: 3, consts: [[1, \"form-group\"], [\"for\", \"zipCode\"], [\"required\", \"\", \"minlength\", \"5\", \"maxlength\", \"5\", \"ngModel\", \"\", \"name\", \"zipCode\", \"id\", \"zipCode\", \"type\", \"text\", 1, \"form-control\"], [\"zipCode\", \"ngModel\", \"zipCodeIn\", \"\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"center-button\"], [\"name\", \"submitButton\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"name\", \"sumbitButton\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"alert\", \"alert-danger\"]], template: function ZipCodeInputComponent_Template(rf, ctx) { if (rf & 1) {\r\n        const _r3 = i0.ɵɵgetCurrentView();\r\n        i0.ɵɵelementStart(0, \"form\");\r\n        i0.ɵɵelementStart(1, \"div\", 0);\r\n        i0.ɵɵelementStart(2, \"label\", 1);\r\n        i0.ɵɵtext(3, \"Enter A Zip Code\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(4, \"input\", 2, 3);\r\n        i0.ɵɵtemplate(7, ZipCodeInputComponent_div_7_Template, 2, 0, \"div\", 4);\r\n        i0.ɵɵelement(8, \"br\");\r\n        i0.ɵɵelementStart(9, \"div\", 5);\r\n        i0.ɵɵelementStart(10, \"button\", 6);\r\n        i0.ɵɵlistener(\"click\", function ZipCodeInputComponent_Template_button_click_10_listener() { i0.ɵɵrestoreView(_r3); const _r1 = i0.ɵɵreference(6); return ctx.submitZipCode(_r1.value); });\r\n        i0.ɵɵtext(11, \"Submit\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(12, \"button\", 7);\r\n        i0.ɵɵlistener(\"click\", function ZipCodeInputComponent_Template_button_click_12_listener() { return ctx.submitWeather(); });\r\n        i0.ɵɵtext(13, \"Submit Weather\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(14, \"p\");\r\n        i0.ɵɵtext(15);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(16, \"p\");\r\n        i0.ɵɵtext(17);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        const _r0 = i0.ɵɵreference(5);\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵproperty(\"ngIf\", _r0.touched && !_r0.valid);\r\n        i0.ɵɵadvance(8);\r\n        i0.ɵɵtextInterpolate1(\"You entered: \", ctx.zipCodeDisplay, \"\");\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵtextInterpolate(ctx.zipResult);\r\n    } }, directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm, i2.DefaultValueAccessor, i2.RequiredValidator, i2.MinLengthValidator, i2.MaxLengthValidator, i2.NgControlStatus, i2.NgModel, i3.NgIf], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ6aXAtY29kZS1pbnB1dC5jb21wb25lbnQuY3NzIn0= */\", \"label[_ngcontent-%COMP%]{\\n        display: block;\\n        text-align: center;\\n    }\\n    .center-button[_ngcontent-%COMP%]{\\n        margin-left: 50px;\\n        margin-top: 10px;\\n    }\\n    .alert[_ngcontent-%COMP%]{\\n        color: red;\\n    }\"] });\r\n"]},"metadata":{},"sourceType":"module"}